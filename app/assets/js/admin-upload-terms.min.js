/*! 
 * rtMedia JavaScript Library 
 * @package rtMedia 
 */

jQuery(document).ready(function(o){var r=o('input[name^="rtmedia-options[general_enable_upload_terms]"]'),t=o('input[name^="rtmedia-options[activity_enable_upload_terms]"]'),s=o('input[name^="rtmedia-options[general_upload_terms_page_link]"]'),a=o('input[name^="rtmedia-options[general_upload_terms_message]"]'),m=o('input[name^="rtmedia-options[general_upload_terms_error_message]"]'),n=o('input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]'),i=o('textarea[name^="rtmedia-options[general_upload_terms_privacy_message]"]'),l=!0;function _(e,r){var t=o(e);if(t.focus(),t.css("border-color","red"),0<t.parent().length&&"error_msg"!==t.parent().attr("class")){var s=o("<span />").css("display","block").addClass("error_msg").html(r);t.after(s)}return l=!1}function e(){!0===r.prop("checked")||!0===t.prop("checked")?(s.closest(".form-table").slideDown(),a.closest(".form-table").slideDown(),m.closest(".form-table").slideDown()):(s.closest(".form-table").slideUp(),a.closest(".form-table").slideUp(),m.closest(".form-table").slideUp()),!0===n.prop("checked")?i.closest(".form-table").slideDown():i.closest(".form-table").slideUp()}e(),o('input[name^="rtmedia-options[general_enable_upload_terms]"], input[name^="rtmedia-options[activity_enable_upload_terms]"], input[name^="rtmedia-options[general_upload_terms_show_pricacy_message]"]').on("change",function(){e()}),o("#bp-media-settings-boxes").on("submit","#bp_media_settings_form, .rtmedia-settings-submit",function(){var e="";if((l&&0<r.length&&void 0!==r||l&&0<t.length&&"string"!==t)&&(!0===r.prop("checked")||!0===t.prop("checked"))){if(o(".error_msg").remove(),o(".rtm-form-text").css("border-color","#ddd"),!/^(http|https|ftp):\/\/[a-z0-9]+([\-\.]{1}[a-z0-9]+)*\.[a-z]{2,5}(:[0-9]{1,5})?(\/.*)?$/i.test(s.val()))return e=rtm_upload_terms_error_msgs.valid_url,_(s,e);if(""===a.val().trim())return e=rtm_upload_terms_error_msgs.terms_msg,_(a,e);if(""===m.val().trim())return e=rtm_upload_terms_error_msgs.error_msg,_(m,e)}if(l&&0<n.length&&void 0!==n&&n.prop("checked")&&(o(".error_msg").remove(),""===i.val().trim()))return e=rtm_upload_terms_error_msgs.privacy_msg,_(i,e)})});