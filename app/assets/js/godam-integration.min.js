GODAMPlayer();const activityStream=document.querySelector("#buddypress #activity-stream");if(activityStream){new MutationObserver((e=>{for(const t of e)t.addedNodes.forEach((e=>{1===e.nodeType&&(e.matches(".activity")||e.matches(".groups"))&&requestAnimationFrame((()=>GODAMPlayer(e)))}))})).observe(activityStream,{childList:!0,subtree:!0})}document.addEventListener("DOMContentLoaded",(()=>{GODAMPlayer();const e=new WeakSet;let t=null;const o=t=>{if(!t)return void GODAMPlayer();if(e.has(t))return;t.querySelectorAll("[data-godam-initialized], .godam-player-initialized").length>0||(GODAMPlayer(t),e.add(t),t.setAttribute&&t.setAttribute("data-godam-processed","true"))},r=()=>{const r=document.querySelector('[id^="rtmedia-media-"]');if(r){const i=r.id;if(i!==t){t=i,console.log("RTMedia ID changed to:",i),e.delete(r);const d=r.closest(".mfp-content")||r;return d&&(d.removeAttribute("data-godam-processed"),e.delete(d),setTimeout((()=>{o(d)}),100)),!0}}return!1},i=document.querySelector("#buddypress #activity-stream");if(i){new MutationObserver((e=>{for(const t of e)t.addedNodes.forEach((e=>{1===e.nodeType&&e.matches(".activity")&&!e.hasAttribute("data-godam-processed")&&requestAnimationFrame((()=>o(e)))}))})).observe(i,{childList:!0,subtree:!0})}let d=null;if(new MutationObserver((e=>{let i=!1;for(const r of e)"attributes"===r.type&&r.target.id&&r.target.id.startsWith("rtmedia-media-")&&(i=!0),r.addedNodes.forEach((e=>{if(1===e.nodeType){let t=null;t=e.classList&&e.classList.contains("mfp-content")?e:e.querySelector(".mfp-content"),e.querySelector&&e.querySelector('[id^="rtmedia-media-"]')&&(i=!0),t&&!t.hasAttribute("data-godam-processed")&&(d&&clearTimeout(d),d=setTimeout((()=>{o(t),d=null}),300))}})),r.removedNodes.forEach((e=>{1===e.nodeType&&e.id&&e.id.startsWith("rtmedia-media-")&&t===e.id&&(t=null)}));i&&setTimeout(r,100)})).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["id","class"]}),void 0!==$.magnificPopup){let e=null;const t=()=>{e&&clearTimeout(e),e=setTimeout((()=>{const t=document.querySelector(".mfp-content:not([data-godam-processed])");t&&o(t),r(),e=null}),250)};$(document).on("mfpOpen mfpChange mfpBeforeChange",t),$(document).on("mfpNext mfpPrev",(()=>{setTimeout((()=>{r()}),300)}))}"undefined"!=typeof $&&$(document).on("mfpClose",(function(){d&&(clearTimeout(d),d=null),t=null}));new MutationObserver((e=>{for(const t of e)t.addedNodes.forEach((e=>{if(1===e.nodeType){if(e.closest(".mfp-content")||e.classList&&e.classList.contains("mfp-content")){if(("VIDEO"===e.tagName?[e]:e.querySelectorAll("video")).length>0){const t=e.closest(".mfp-content")||e;t.hasAttribute("data-godam-processed")||requestAnimationFrame((()=>o(t)))}}(e.id&&e.id.startsWith("rtmedia-media-")?e:e.querySelector&&e.querySelector('[id^="rtmedia-media-"]'))&&setTimeout(r,100)}}))})).observe(document.body,{childList:!0,subtree:!0});new MutationObserver((e=>{let t=!1;for(const o of e){if(o.target.id&&o.target.id.startsWith("rtmedia-media-")){t=!0;break}const e=e=>{for(const o of e)if(1===o.nodeType&&(o.id&&o.id.startsWith("rtmedia-media-")||o.querySelector&&o.querySelector('[id^="rtmedia-media-"]')))return t=!0,!0;return!1};if(e(o.addedNodes)||e(o.removedNodes))break}t&&setTimeout(r,150)})).observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["id"]}),setTimeout(r,500)}));